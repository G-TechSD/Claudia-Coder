{
  "env": {
    "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "16384",
    "MAX_THINKING_TOKENS": "32768",
    "MAX_MCP_OUTPUT_TOKENS": "8192",
    "USE_API_CONTEXT_MANAGEMENT": "true"
  },
  "hooks": {
    "SessionStart": [
      {
        "type": "command",
        "command": "echo '╔══════════════════════════════════════════════════════════════╗\n║  SMALL CONTEXT ORCHESTRATOR MODE - DELEGATION REQUIRED       ║\n╠══════════════════════════════════════════════════════════════╣\n║  Context is LIMITED - You MUST delegate ALL substantive work ║\n║  to sub-agents using the Task tool.                          ║\n║                                                              ║\n║  RULES:                                                      ║\n║  1. NEVER read files directly - spawn Explore agents         ║\n║  2. NEVER write/edit directly - spawn implementation agents  ║\n║  3. Launch 5-10 parallel agents for EVERY task               ║\n║  4. Keep main thread for coordination ONLY                   ║\n║                                                              ║\n║  Run /orchestrator or /context for more info                 ║\n╚══════════════════════════════════════════════════════════════╝'",
        "timeout": 5000
      }
    ],
    "UserPromptSubmit": [
      {
        "type": "command",
        "command": "echo '┌─────────────────────────────────────────────────────────────┐\n│ CONTEXT CONSERVATION: Analyze request and spawn sub-agents. │\n│ Direct tool use consumes precious context - DELEGATE FIRST! │\n└─────────────────────────────────────────────────────────────┘'",
        "timeout": 3000
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Read",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[CONTEXT COST: HIGH] Direct READ consumes context. Delegate to Explore sub-agent for summarized results instead.'",
            "timeout": 2000
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[CONTEXT COST: HIGH] Direct WRITE pollutes main context. Spawn implementation sub-agent!'",
            "timeout": 2000
          }
        ]
      },
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[CONTEXT COST: HIGH] Direct EDIT consumes significant context. Delegate to sub-agent!'",
            "timeout": 2000
          }
        ]
      },
      {
        "matcher": "Grep",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[DELEGATION RECOMMENDED] Search results bloat context. Use Explore sub-agent for distilled findings.'",
            "timeout": 2000
          }
        ]
      },
      {
        "matcher": "Glob",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[DELEGATION RECOMMENDED] File discovery should use Explore sub-agent to scan and summarize.'",
            "timeout": 2000
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[CONTEXT AWARE] Bash output enters main context. For verbose commands, use Bash sub-agent.'",
            "timeout": 2000
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Read|Write|Edit|Grep|Glob",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[CONTEXT CONSUMED] Direct tool used. Consider compacting if context is filling. Future ops should use sub-agents.'",
            "timeout": 2000
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "echo '[CONTEXT PRESERVED] Sub-agent delegation successful. Main context remains clean for coordination.'",
            "timeout": 2000
          }
        ]
      }
    ],
    "Stop": [
      {
        "type": "command",
        "command": "echo '┌─────────────────────────────────────────────────────────────┐\n│ SESSION REVIEW: Check context usage with /context command.  │\n│ If >50% used, consider /compact before continuing.          │\n└─────────────────────────────────────────────────────────────┘'",
        "timeout": 3000
      }
    ],
    "SubagentStop": [
      {
        "type": "command",
        "command": "echo '[SUB-AGENT COMPLETE] Results received in summarized form. Context preserved for coordination.'",
        "timeout": 2000
      }
    ]
  },
  "permissions": {
    "allowedTools": ["Task", "TodoWrite", "Bash", "Read", "Write", "Edit", "Glob", "Grep", "WebSearch", "WebFetch", "Skill", "NotebookEdit"]
  }
}
